{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@carenow/api/external commonjs \"@nestjs/core\"","webpack://@carenow/api/external commonjs \"@nestjs/common\"","webpack://@carenow/api/external commonjs \"@nestjs/config\"","webpack://@carenow/api/./src/app/app.module.ts","webpack://@carenow/api/external commonjs \"tslib\"","webpack://@carenow/api/./src/app/app.controller.ts","webpack://@carenow/api/./src/app/app.service.ts","webpack://@carenow/api/./src/app/treatment/treatment.module.ts","webpack://@carenow/api/./src/services/prisma/prisma.module.ts","webpack://@carenow/api/./src/services/prisma/prisma.service.ts","webpack://@carenow/api/external commonjs \"@prisma/client\"","webpack://@carenow/api/./src/app/treatment/treatment.service.ts","webpack://@carenow/api/./src/app/treatment/treatment.controller.ts","webpack://@carenow/api/./src/app/treatment/create-treatment.dto.ts","webpack://@carenow/api/external commonjs \"class-validator\"","webpack://@carenow/api/./src/app/treatment-description/treatment-description.module.ts","webpack://@carenow/api/./src/app/treatment-description/treatment-description.service.ts","webpack://@carenow/api/./src/app/treatment-description/treatment-description.controller.ts","webpack://@carenow/api/./src/app/medication-prescribed/medication-prescribed.module.ts","webpack://@carenow/api/./src/app/medication-prescribed/medication-prescribed.service.ts","webpack://@carenow/api/./src/app/medication-prescribed/medication-prescribed.controller.ts","webpack://@carenow/api/webpack/bootstrap","webpack://@carenow/api/./src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","import { Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { ConfigModule } from '@nestjs/config';\nimport { TreatmentModule } from './treatment/treatment.module';\nimport { TreatmentDescriptionModule } from './treatment-description/treatment-description.module';\nimport { MedicationPrescribedModule } from './medication-prescribed/medication-prescribed.module';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n    }),\n    TreatmentModule,\n    TreatmentDescriptionModule,\n    MedicationPrescribedModule,\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule {}\n","module.exports = require(\"tslib\");","import { Controller, Get } from '@nestjs/common';\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Hello API' };\n  }\n}\n","import { PrismaModule } from '../../services/prisma/prisma.module';\nimport { Module } from '@nestjs/common';\nimport { TreatmentService } from './treatment.service';\nimport { TreatmentController } from './treatment.controller';\n\n@Module({\n  imports: [PrismaModule],\n  providers: [TreatmentService],\n  controllers: [TreatmentController],\n})\nexport class TreatmentModule {}\n","import { Module } from '@nestjs/common';\nimport { PrismaService } from './prisma.service';\nimport { ConfigService } from '@nestjs/config';\n\n@Module({\n  exports: [PrismaService],\n  providers: [ConfigService, PrismaService],\n})\nexport class PrismaModule {}\n","import {\n  OnModuleInit,\n  OnModuleDestroy,\n  LogLevel,\n  Logger,\n} from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { Prisma, PrismaClient } from '@prisma/client';\n\nexport class PrismaService\n  extends PrismaClient\n  implements OnModuleInit, OnModuleDestroy\n{\n  public constructor(configService: ConfigService) {\n    let customLogLevels: LogLevel[];\n\n    try {\n      customLogLevels = JSON.parse(\n        configService.get<string>('LOG_LEVELS')\n      ) as LogLevel[];\n      // eslint-disable-next-line no-empty\n    } catch {}\n\n    const log: Prisma.LogDefinition[] =\n      customLogLevels?.includes('debug') || customLogLevels?.includes('verbose')\n        ? [{ emit: 'stdout', level: 'query' }]\n        : [];\n\n    super({\n      log,\n      errorFormat: 'colorless',\n    });\n  }\n\n  public async onModuleInit() {\n    try {\n      await this.$connect();\n    } catch (error) {\n      Logger.error(error, 'PrismaService');\n    }\n  }\n\n  public async onModuleDestroy() {\n    await this.$disconnect();\n  }\n}\n","module.exports = require(\"@prisma/client\");","import { PrismaService } from '../../services/prisma/prisma.service';\nimport { BadRequestException, Injectable } from '@nestjs/common';\nimport { CreateTreatmentDto } from './create-treatment.dto';\nimport type {\n  TreatmentDescription,\n  MedicationPrescribed,\n} from '@prisma/client';\n\n@Injectable()\nexport class TreatmentService {\n  public constructor(private readonly prismaService: PrismaService) {}\n\n  public async create({\n    name,\n    treatmentDescriptionsIds,\n    medicationsPrescribedIds,\n    date,\n    cost,\n  }: CreateTreatmentDto): Promise<{\n    id: string;\n    name: string;\n    date: Date;\n    cost: number;\n    treatmentDescriptions: TreatmentDescription[];\n    medicationsPrescribed: MedicationPrescribed[];\n  }> {\n    const validTreatmentDescriptionItems =\n      await this.prismaService.treatmentDescription.findMany({\n        where: {\n          id: { in: treatmentDescriptionsIds },\n        },\n      });\n\n    const validMedicationPrescribedItems =\n      await this.prismaService.medicationPrescribed.findMany({\n        where: {\n          id: { in: medicationsPrescribedIds },\n        },\n      });\n\n    if (\n      validTreatmentDescriptionItems.length !==\n        treatmentDescriptionsIds.length &&\n      validMedicationPrescribedItems.length !== medicationsPrescribedIds.length\n    ) {\n      throw new BadRequestException('Input not valid');\n    }\n    const treatment = await this.prismaService.treatment.create({\n      data: {\n        name,\n        treatmentDescriptionsIds,\n        medicationsPrescribedIds,\n        date,\n        cost,\n      },\n    });\n\n    const [treatmentDescriptions, medicationsPrescribed] = await Promise.all([\n      this.prismaService.treatmentDescription.findMany({\n        where: { id: { in: treatment.treatmentDescriptionsIds } },\n      }),\n      this.prismaService.medicationPrescribed.findMany({\n        where: { id: { in: treatment.medicationsPrescribedIds } },\n      }),\n    ]);\n\n    return {\n      id: treatment.id,\n      name: treatment.name,\n      date: treatment.date,\n      cost: treatment.cost,\n      treatmentDescriptions,\n      medicationsPrescribed,\n    };\n  }\n}\n","import { Body, Controller, HttpStatus, Post } from '@nestjs/common';\nimport { TreatmentService } from './treatment.service';\nimport { CreateTreatmentDto } from './create-treatment.dto';\n\n@Controller('treatment')\nexport class TreatmentController {\n  public constructor(private readonly treatmentService: TreatmentService) {}\n\n  @Post()\n  public async create(@Body() data: CreateTreatmentDto) {\n    const treatment = await this.treatmentService.create(data);\n\n    return {\n      status: HttpStatus.CREATED,\n      data: treatment,\n    };\n  }\n}\n","import { IsArray, IsDateString, IsNumber, IsString } from 'class-validator';\n\nexport class CreateTreatmentDto {\n  @IsString()\n  name: string;\n\n  @IsDateString()\n  date: string;\n\n  @IsArray()\n  @IsString({ each: true })\n  treatmentDescriptionsIds: string[];\n\n  @IsArray()\n  @IsString({ each: true })\n  medicationsPrescribedIds: string[];\n\n  @IsNumber()\n  cost: number;\n}\n","module.exports = require(\"class-validator\");","import { PrismaModule } from '../../services/prisma/prisma.module';\nimport { Module } from '@nestjs/common';\nimport { TreatmentDescriptionService } from './treatment-description.service';\nimport { TreatmentDescriptionController } from './treatment-description.controller';\n\n@Module({\n  imports: [PrismaModule],\n  providers: [TreatmentDescriptionService],\n  controllers: [TreatmentDescriptionController],\n})\nexport class TreatmentDescriptionModule {}\n","import { PrismaService } from '../../services/prisma/prisma.service';\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class TreatmentDescriptionService {\n  public constructor(private readonly prismaService: PrismaService) {}\n\n  public async getAll() {\n    return await this.prismaService.treatmentDescription.findMany();\n  }\n}\n","import { Controller, Get, HttpStatus } from '@nestjs/common';\nimport { TreatmentDescriptionService } from './treatment-description.service';\n\n@Controller('treatment-description')\nexport class TreatmentDescriptionController {\n  public constructor(\n    private readonly treatmentDescriptionService: TreatmentDescriptionService\n  ) {}\n\n  @Get()\n  public async getAll() {\n    const treatmentDescriptions =\n      await this.treatmentDescriptionService.getAll();\n\n    return {\n      status: HttpStatus.OK,\n      data: treatmentDescriptions,\n    };\n  }\n}\n","import { PrismaModule } from '../../services/prisma/prisma.module';\nimport { Module } from '@nestjs/common';\nimport { MedicationPrescribedService } from './medication-prescribed.service';\nimport { MedicationPrescribedController } from './medication-prescribed.controller';\n\n@Module({\n  imports: [PrismaModule],\n  providers: [MedicationPrescribedService],\n  controllers: [MedicationPrescribedController],\n})\nexport class MedicationPrescribedModule {}\n","import { PrismaService } from '../../services/prisma/prisma.service';\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class MedicationPrescribedService {\n  public constructor(private readonly prismaService: PrismaService) {}\n\n  public async getAll() {\n    return await this.prismaService.medicationPrescribed.findMany();\n  }\n}\n","import { Controller, Get, HttpStatus } from '@nestjs/common';\nimport { MedicationPrescribedService } from './medication-prescribed.service';\n\n@Controller('medication-prescribed')\nexport class MedicationPrescribedController {\n  public constructor(\n    private readonly medicationPrescribedService: MedicationPrescribedService\n  ) {}\n\n  @Get()\n  public async getAll() {\n    const medicationsPrescribed =\n      await this.medicationPrescribedService.getAll();\n\n    return {\n      status: HttpStatus.OK,\n      data: medicationsPrescribed,\n    };\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { NestFactory } from '@nestjs/core';\nimport { ValidationPipe } from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  const configService = app.get(ConfigService);\n\n  app.enableCors({\n    origin: [\n      configService.get('FRONTEND_URL'),\n      configService.get('APP_URL'),\n      'http://localhost:3111',\n      'http://localhost:3100',\n    ],\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS'],\n    credentials: true,\n    allowedHeaders: [\n      'Content-Type',\n      'Authorization',\n      'Accept',\n      'Origin',\n      'X-Requested-With',\n      'Access-Control-Request-Method',\n      'Access-Control-Request-Headers',\n      'Cache-Control',\n      'Pragma',\n      'If-None-Match',\n      'If-Modified-Since',\n      'Refresh-Token',\n    ],\n    exposedHeaders: [\n      'Access-Control-Allow-Origin',\n      'Access-Control-Allow-Credentials',\n      'Access-Control-Allow-Methods',\n      'Access-Control-Allow-Headers',\n      'Access-Control-Max-Age',\n      'Content-Length',\n      'Content-Type',\n      'Date',\n      'ETag',\n      'Last-Modified',\n      'Vary',\n    ],\n    maxAge: 3600,\n  });\n\n  app.setGlobalPrefix('api');\n\n  app.useGlobalPipes(new ValidationPipe());\n\n  await app.listen(process.env.PORT ?? 3100);\n}\nbootstrap();\n"],"names":[],"sourceRoot":""}